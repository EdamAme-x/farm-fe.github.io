"use strict";(self.webpackChunkfarm_docs=self.webpackChunkfarm_docs||[]).push([[9498],{9613:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>k});var a=n(9496);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=p(n),c=i,k=d["".concat(s,".").concat(c)]||d[c]||m[c]||l;return n?a.createElement(k,r(r({ref:t},u),{},{components:n})):a.createElement(k,r({ref:t},u))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,r=new Array(l);r[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:i,r[1]=o;for(var p=2;p<l;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},7112:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var a=n(1163),i=(n(9496),n(9613));const l={},r="Configuration Reference",o={unversionedId:"config/farm-config",id:"config/farm-config",title:"Configuration Reference",description:"By default, Farm reads the configuration from the farm.config.ts|js|mjs file in the project root directory, an example configuration file:",source:"@site/docs/config/farm-config.md",sourceDirName:"config",slug:"/config/farm-config",permalink:"/docs/config/farm-config",draft:!1,editUrl:"https://github.com/farm-fe/farm-fe.github.io/tree/main/docs/config/farm-config.md",tags:[],version:"current",frontMatter:{},sidebar:"configSidebar",next:{title:"CLI Options",permalink:"/docs/config/cli"}},s={},p=[{value:"Compilation options - compilation",id:"compilation-options---compilation",level:2},{value:"input",id:"input",level:3},{value:"output",id:"output",level:3},{value:"<code>output.entryFilename</code>",id:"outputentryfilename",level:4},{value:"<code>output.filename</code>",id:"outputfilename",level:4},{value:"<code>output.path</code>",id:"outputpath",level:4},{value:"<code>output.publicPath</code>",id:"outputpublicpath",level:4},{value:"<code>output.assetsFileName</code>",id:"outputassetsfilename",level:4},{value:"<code>output. targetEnv</code>",id:"output-targetenv",level:4},{value:"<code>output. format</code>",id:"output-format",level:4},{value:"resolve",id:"resolve",level:3},{value:"<code>resolve. extensions</code>",id:"resolve-extensions",level:4},{value:"<code>resolve.alias</code>",id:"resolvealias",level:4},{value:"<code>resolve. mainFields</code>",id:"resolve-mainfields",level:4},{value:"<code>resolve.conditions</code>",id:"resolveconditions",level:4},{value:"<code>resolve.symlinks</code>",id:"resolvesymlinks",level:4},{value:"<code>resolve. strictExports</code>",id:"resolve-strictexports",level:4},{value:"define",id:"define",level:3},{value:"external",id:"external",level:3},{value:"mode",id:"mode",level:3},{value:"root",id:"root",level:3},{value:"runtime",id:"runtime",level:3},{value:"<code>runtime.path</code>",id:"runtimepath",level:4},{value:"<code>runtime.plugins</code>",id:"runtimeplugins",level:4},{value:"<code>runtime.namespace</code>",id:"runtimenamespace",level:4},{value:"assets",id:"assets",level:3},{value:"<code>assets.include</code>",id:"assetsinclude",level:4},{value:"script",id:"script",level:3},{value:"<code>script.target</code>",id:"scripttarget",level:4},{value:"<code>script.parser</code>",id:"scriptparser",level:4},{value:"<code>script.plugins</code>",id:"scriptplugins",level:4},{value:"<code>script.decorators</code>",id:"scriptdecorators",level:4},{value:"css",id:"css",level:3},{value:"<code>css.modules</code>",id:"cssmodules",level:4},{value:"<code>css.modules.paths</code>",id:"cssmodulespaths",level:5},{value:"<code>css.modules.identName</code>",id:"cssmodulesidentname",level:5},{value:"<code>css.prefixer</code>",id:"cssprefixer",level:4},{value:"<code>css.prefixer.targets</code>",id:"cssprefixertargets",level:5},{value:"html",id:"html",level:3},{value:"<code>html.base</code>",id:"htmlbase",level:4},{value:"sourcemap",id:"sourcemap",level:3},{value:"partialBundling",id:"partialbundling",level:3},{value:"<code>partialBundling.targetConcurrentRequests</code>",id:"partialbundlingtargetconcurrentrequests",level:4},{value:"<code>partialBundling.targetMinSize</code>",id:"partialbundlingtargetminsize",level:4},{value:"<code>partialBundling.targetMaxSize</code>",id:"partialbundlingtargetmaxsize",level:4},{value:"<code>partialBundling.groups</code>",id:"partialbundlinggroups",level:4},{value:"<code>partialBundling.enforceResources</code>",id:"partialbundlingenforceresources",level:4},{value:"<code>partialBundling.enforceTargetConcurrentRequests</code>",id:"partialbundlingenforcetargetconcurrentrequests",level:4},{value:"<code>partialBundling.enforceTargetMinSize</code>",id:"partialbundlingenforcetargetminsize",level:4},{value:"<code>partialBundling.immutableModules</code>",id:"partialbundlingimmutablemodules",level:4},{value:"<code>partialBundling.immutableModulesWeight</code>",id:"partialbundlingimmutablemodulesweight",level:4},{value:"lazyCompilation",id:"lazycompilation",level:3},{value:"treeShaking",id:"treeshaking",level:3},{value:"minify",id:"minify",level:3},{value:"presetEnv",id:"presetenv",level:3},{value:"<code>presetEnv.include</code>",id:"presetenvinclude",level:4},{value:"<code>presetEnv. exclude</code>",id:"presetenv-exclude",level:4},{value:"<code>presetEnv.options</code>",id:"presetenvoptions",level:4},{value:"persistentCache",id:"persistentcache",level:3},{value:"<code>persistentCache.namespace</code>",id:"persistentcachenamespace",level:4},{value:"<code>persistentCache.cacheDir</code>",id:"persistentcachecachedir",level:4},{value:"<code>persistentCache.buildDependencies</code>",id:"persistentcachebuilddependencies",level:4},{value:"<code>persistentCache.moduleCacheKeyStrategy</code>",id:"persistentcachemodulecachekeystrategy",level:4},{value:"<code>persistentCache.envs</code>",id:"persistentcacheenvs",level:4},{value:"DevServer Options - server",id:"devserver-options---server",level:2},{value:"port",id:"port",level:3},{value:"hmr",id:"hmr",level:3},{value:"<code>hmr.port</code>",id:"hmrport",level:4},{value:"<code>hmr.host</code>",id:"hmrhost",level:4},{value:"proxy",id:"proxy",level:3},{value:"open",id:"open",level:3},{value:"plugins",id:"plugins",level:3},{value:"Environment variable",id:"environment-variable",level:2},{value:"<code>.env</code> file",id:"env-file",level:3},{value:"envPrefix",id:"envprefix",level:3},{value:"Plugins Options",id:"plugins-options",level:2},{value:"Rust Plugins",id:"rust-plugins",level:3},{value:"Js Plugins",id:"js-plugins",level:3}],u={toc:p},d="wrapper";function m(e){let{components:t,...n}=e;return(0,i.kt)(d,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"configuration-reference"},"Configuration Reference"),(0,i.kt)("p",null,"By default, Farm reads the configuration from the ",(0,i.kt)("inlineCode",{parentName:"p"},"farm.config.ts|js|mjs")," file in the project root directory, an example configuration file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="farm.config.ts"',title:'"farm.config.ts"'},"import type { UserConfig } from '@farmfe/core';\n\nfunction defineConfig(config: Config) {\n   return config;\n}\n\nexport default defineConfig({\n   root: process.cwd(), // compiled root directory\n   // compile options\n   compilation: {\n     //...\n   },\n   // Dev Server options\n   server: {\n     hmr: true,\n     //...\n   },\n   // plugin configuration\n   plugins: []\n});\n")),(0,i.kt)("h2",{id:"compilation-options---compilation"},"Compilation options - compilation"),(0,i.kt)("p",null,"All compilation-related configuration is under the ",(0,i.kt)("inlineCode",{parentName:"p"},"compilation")," field."),(0,i.kt)("h3",{id:"input"},"input"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"type"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"Record<string, string>"))),(0,i.kt)("p",null,"The entry point for the project. Input files can be ",(0,i.kt)("inlineCode",{parentName:"p"},"html"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"ts/js/tsx/jsx"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"css")," or other files supported by plugins."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import type { UserConfig } from '@farmfe/core';\n\nexport default <UserConfig> {\n   compilation: {\n     input: {\n       index: './index.html',\n       about: './about.html'\n     },\n   }\n   // ..\n}\n")),(0,i.kt)("h3",{id:"output"},"output"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"type"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"OutputOptions"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"interface OutputOptions {\n   // After partial bundling, the file name configuration of the resource where the entry file is located\n   entryFilename?: string;\n   // After partial bundling, other resources except the entry resource input file name configuration\n   filename?: string;\n   // output directory\n   path?: string;\n   // public path: resource loading prefix\n   publicPath?: string;\n   // Static resource file name configuration\n   assetsFilename?: string;\n   // Target execution environment, browser or Node\n   targetEnv?: 'browser' | 'node';\n   // output module format\n   format?: 'cjs' | 'esm';\n}\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"We call the compiled result a ",(0,i.kt)("inlineCode",{parentName:"p"},"resource"))),(0,i.kt)("h4",{id:"outputentryfilename"},(0,i.kt)("inlineCode",{parentName:"h4"},"output.entryFilename")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},'"[entryName].[ext]"'))),(0,i.kt)("p",null,"Configure the filename of the entry resource: you can use placeholders such as ",(0,i.kt)("inlineCode",{parentName:"p"},"[entryName]"),". All placeholders are as follows:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[entryName]"),": entry name, for example, for ",(0,i.kt)("inlineCode",{parentName:"li"},'input: { index: "./index.html" }'),", ",(0,i.kt)("inlineCode",{parentName:"li"},"[entryName]")," is ",(0,i.kt)("inlineCode",{parentName:"li"},"index")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[resourceName]"),": The name of the resource, usually a unique hash value generated internally by Farm."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[contentHash]"),": The content hash of the resource."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[ext]"),": The extension of the resource, ",(0,i.kt)("inlineCode",{parentName:"li"},"js")," for ",(0,i.kt)("inlineCode",{parentName:"li"},"js/jsx/ts/tsx"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"css")," for ",(0,i.kt)("inlineCode",{parentName:"li"},"css/scss/less"),".")),(0,i.kt)("h4",{id:"outputfilename"},(0,i.kt)("inlineCode",{parentName:"h4"},"output.filename")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Default value"),": ",(0,i.kt)("inlineCode",{parentName:"li"},'"[resourceName].[ext]"'))),(0,i.kt)("p",null,"After partial bundling, other resource file names except the resources configured by ",(0,i.kt)("inlineCode",{parentName:"p"},"entryFilename"),". All placeholders are as follows:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[resourceName]"),": The name of the resource, usually a unique hash value generated internally by Farm."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[contentHash]"),": The content hash of the resource."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"[ext]"),": The extension of the resource, ",(0,i.kt)("inlineCode",{parentName:"li"},"js")," for ",(0,i.kt)("inlineCode",{parentName:"li"},"js/jsx/ts/tsx"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"css")," for ",(0,i.kt)("inlineCode",{parentName:"li"},"css/scss/less"),".")),(0,i.kt)("h4",{id:"outputpath"},(0,i.kt)("inlineCode",{parentName:"h4"},"output.path")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},'"dist"'))),(0,i.kt)("p",null,"directory of output resources"),(0,i.kt)("h4",{id:"outputpublicpath"},(0,i.kt)("inlineCode",{parentName:"h4"},"output.publicPath")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Default value"),": ",(0,i.kt)("inlineCode",{parentName:"li"},'"/"'))),(0,i.kt)("p",null,"The resource url load prefix. For example URL ",(0,i.kt)("inlineCode",{parentName:"p"},"https://xxxx"),", or a absolute path ",(0,i.kt)("inlineCode",{parentName:"p"},"/xxx/"),"."),(0,i.kt)("h4",{id:"outputassetsfilename"},(0,i.kt)("inlineCode",{parentName:"h4"},"output.assetsFileName")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Default value"),": ",(0,i.kt)("inlineCode",{parentName:"li"},'"[resourceName].[ext]"'))),(0,i.kt)("p",null,"The filename configuration for static resource output, the placeholder is the same as ",(0,i.kt)("inlineCode",{parentName:"p"},"output.filename"),"."),(0,i.kt)("h4",{id:"output-targetenv"},(0,i.kt)("inlineCode",{parentName:"h4"},"output. targetEnv")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},'"browser"'))),(0,i.kt)("p",null,"Configure the execution environment of the product, which can be ",(0,i.kt)("inlineCode",{parentName:"p"},'"browser"')," or ",(0,i.kt)("inlineCode",{parentName:"p"},'"node"'),"."),(0,i.kt)("h4",{id:"output-format"},(0,i.kt)("inlineCode",{parentName:"h4"},"output. format")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},'"esm"'))),(0,i.kt)("p",null,"The format of the configuration product, which can be ",(0,i.kt)("inlineCode",{parentName:"p"},'"esm"')," or ",(0,i.kt)("inlineCode",{parentName:"p"},'"cjs"'),"."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This option is only valid for Js products")),(0,i.kt)("h3",{id:"resolve"},"resolve"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"type"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"ResolveOptions"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"interface ResolveOptions {\n   extensions?: string[];\n   alias?: Record<string, string>;\n   mainFields?: string[];\n   conditions?: string[];\n   symlinks?: boolean;\n   strictExports?: boolean;\n};\n")),(0,i.kt)("h4",{id:"resolve-extensions"},(0,i.kt)("inlineCode",{parentName:"h4"},"resolve. extensions")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},'["tsx", "ts", "jsx", "js", "mjs", "json", "html", "css"]'))),(0,i.kt)("p",null,"Configure the suffix when parsing dependencies. For example, when parsing ",(0,i.kt)("inlineCode",{parentName:"p"},"./index"),", if it is not resolved, the suffix parsing will be automatically added, such as trying ",(0,i.kt)("inlineCode",{parentName:"p"},"./index.tsx"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"./index.css"),", etc."),(0,i.kt)("h4",{id:"resolvealias"},(0,i.kt)("inlineCode",{parentName:"h4"},"resolve.alias")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Default value"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"{}"))),(0,i.kt)("p",null,"Configure parsing alias, example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"export default defineConfig({\n   compilation: {\n     resolve: {\n       alias: {\n         '/@': path. join(process. cwd(), 'src'),\n         \"stream$\": \"readable-stream\"\n       }\n     }\n   },\n});\n")),(0,i.kt)("p",null,"alias is prefix replacement, for the above example ",(0,i.kt)("inlineCode",{parentName:"p"},"/@/pages")," will be replaced by ",(0,i.kt)("inlineCode",{parentName:"p"},"/root/src/pages"),". If you want an exact match, you can add ",(0,i.kt)("inlineCode",{parentName:"p"},"$"),", for example ",(0,i.kt)("inlineCode",{parentName:"p"},"stream$")," will only replace ",(0,i.kt)("inlineCode",{parentName:"p"},"stream"),", but not ",(0,i.kt)("inlineCode",{parentName:"p"},"stream/xxx"),"."),(0,i.kt)("h4",{id:"resolve-mainfields"},(0,i.kt)("inlineCode",{parentName:"h4"},"resolve. mainFields")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},'["exports", "browser", "module", "main"]'))),(0,i.kt)("p",null,"When parsing dependencies under node_modules, the fields and order configured in ",(0,i.kt)("inlineCode",{parentName:"p"},"mainFields")," will be parsed from package.json. For ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "name": "package-a",\n   "module": "es/index.js",\n   "main": "lib/index.js"\n}\n')),(0,i.kt)("p",null,"Will use ",(0,i.kt)("inlineCode",{parentName:"p"},"es/index.js")," first (if the path exists), and will continue to search backwards if it does not exist."),(0,i.kt)("h4",{id:"resolveconditions"},(0,i.kt)("inlineCode",{parentName:"h4"},"resolve.conditions")),(0,i.kt)("p",null,"Configuration is not currently supported."),(0,i.kt)("h4",{id:"resolvesymlinks"},(0,i.kt)("inlineCode",{parentName:"h4"},"resolve.symlinks")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"true"))),(0,i.kt)("p",null,"When parsing a file, whether to track the real directory corresponding to the symlink, and start parsing the next dependency from the real directory. If pnpm is used to manage dependencies, this option must be configured as true."),(0,i.kt)("h4",{id:"resolve-strictexports"},(0,i.kt)("inlineCode",{parentName:"h4"},"resolve. strictExports")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"false"))),(0,i.kt)("p",null,"Whether to strictly follow the exports defined in ",(0,i.kt)("inlineCode",{parentName:"p"},"exports")," in ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json"),". If set to true, when ",(0,i.kt)("inlineCode",{parentName:"p"},"exports")," is defined in ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json"),", but ",(0,i.kt)("inlineCode",{parentName:"p"},"exports")," does not define the corresponding export, an error will be reported directly. If set to true, it will continue to try other entries according to mainFields."),(0,i.kt)("h3",{id:"define"},"define"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Default value"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"{}"))),(0,i.kt)("p",null,"Global variable injection, the configured variable name and value will be injected into the product at compile time. Farm injects ",(0,i.kt)("inlineCode",{parentName:"p"},"process.env.NODE_ENV")," and some variables used by Farm itself such as ",(0,i.kt)("inlineCode",{parentName:"p"},"FARM_HMR_PORT")," by default"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"export default defineConfig({\n   compilation: {\n     define: {\n       MY_VAR: 123\n     }\n   },\n});\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},"In order to enhance performance, define uses the injection form of global variables, which means that variables in the form of objects cannot be injected, for example, variables in the form of ",(0,i.kt)("inlineCode",{parentName:"li"},"process.env.XXX")," cannot be injected, and only variables in the form of ",(0,i.kt)("inlineCode",{parentName:"li"},"XXX")," can be configured ."),(0,i.kt)("li",{parentName:"ol"},"If multiple Farm projects are mounted under the same window, the defines with the same name in multiple projects will overwrite each other."),(0,i.kt)("li",{parentName:"ol"},"The injection is a string. If it needs to be converted to another type, it needs to be manually converted in the runtime code, such as ",(0,i.kt)("inlineCode",{parentName:"li"},"Number(MY_VAR)")))),(0,i.kt)("h3",{id:"external"},"external"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"[]"))),(0,i.kt)("p",null,"Configure the imports that are external, and the imports that are external will not appear in the compiled product. However, the corresponding import statement will not be deleted. You need to customize how to deal with external, otherwise an error will be reported at runtime. If targetEnv is an external module under node, it will automatically try to require the module."),(0,i.kt)("p",null,"It needs to be configured in a regular way, for example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'export default defineConfig({\n   compilation: {\n     external: ["^stream$"]\n   },\n});\n')),(0,i.kt)("h3",{id:"mode"},"mode"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"development")," for start, watch commands, ",(0,i.kt)("inlineCode",{parentName:"li"},"production")," for build commands")),(0,i.kt)("p",null,"Configure the compilation mode. In order to optimize the performance during development, if there is no manual configuration of production optimization related options (minify, tree shake, etc.), the production environment optimization such as compression and tree shake will be disabled by default under ",(0,i.kt)("inlineCode",{parentName:"p"},"development"),". In ",(0,i.kt)("inlineCode",{parentName:"p"},"production")," mode enabled."),(0,i.kt)("h3",{id:"root"},"root"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"process.cwd()"))),(0,i.kt)("p",null,"Configure the root directory for project compilation. This option will affect the search path of the default configuration file, the search of compiled module dependencies, etc."),(0,i.kt)("h3",{id:"runtime"},"runtime"),(0,i.kt)("p",null,"Configure Farm runtime capabilities. The types are as follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"interface FarmRuntimeOptions {\n   runtime?: {\n     path: string;\n     plugins?: string[];\n     namespace?: string;\n   };\n}\n")),(0,i.kt)("h4",{id:"runtimepath"},(0,i.kt)("inlineCode",{parentName:"h4"},"runtime.path")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Default value"),": The path of Farm's built-in runtime")),(0,i.kt)("p",null,"Customize a Runtime to replace Farm's built-in Runtime."),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"It is not recommended to configure this option under normal circumstances, because once this option is configured, the pointed runtime needs all")),(0,i.kt)("h4",{id:"runtimeplugins"},(0,i.kt)("inlineCode",{parentName:"h4"},"runtime.plugins")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Default value"),": The path of Farm's built-in runtime-plugin-hmr")),(0,i.kt)("p",null,"Configure the Runtime plug-in, through the Runtime plug-in, you can intervene in Runtime behavior, such as module loading, resource loading, etc. For details, please refer to: WIP."),(0,i.kt)("h4",{id:"runtimenamespace"},(0,i.kt)("inlineCode",{parentName:"h4"},"runtime.namespace")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": name field of project package.json")),(0,i.kt)("p",null,"Configure the namespace of Farm Runtime to ensure that the execution of different products under the same window or global can be isolated from each other. By default, the name field of the project package.json is used as the namespace."),(0,i.kt)("h3",{id:"assets"},"assets"),(0,i.kt)("h4",{id:"assetsinclude"},(0,i.kt)("inlineCode",{parentName:"h4"},"assets.include")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"[]"))),(0,i.kt)("p",null,"Additional file suffixes that are regarded as static resources, such as the following example, ",(0,i.kt)("inlineCode",{parentName:"p"},"txt")," will be regarded as posture resources, and will be treated as static resources when importing txt files:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'export default defineConfig({\n   compilation: {\n     assets: {\n       include: ["txt"]\n     }\n   },\n});\n')),(0,i.kt)("h3",{id:"script"},"script"),(0,i.kt)("h4",{id:"scripttarget"},(0,i.kt)("inlineCode",{parentName:"h4"},"script.target")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Default value"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"esnext")," (dynamically adjusted according to the iteration of Farm)")),(0,i.kt)("p",null,"Configure Farm to parse the AST of ",(0,i.kt)("inlineCode",{parentName:"p"},"js/jsx/ts/tsx")," and support the ES syntax version when generating code. Possible values: ",(0,i.kt)("inlineCode",{parentName:"p"},"es5"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"es6"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"es2015")," - ",(0,i.kt)("inlineCode",{parentName:"p"},"es2023"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"esnext")),(0,i.kt)("h4",{id:"scriptparser"},(0,i.kt)("inlineCode",{parentName:"h4"},"script.parser")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": same as SWC")),(0,i.kt)("p",null,"Configure the behavior of SWC when parsing AST, configuration item reference: ",(0,i.kt)("a",{parentName:"p",href:"https://swc.rs/docs/configuration/compilation#jscparser"},"https://swc.rs/docs/configuration/compilation#jscparser")),(0,i.kt)("h4",{id:"scriptplugins"},(0,i.kt)("inlineCode",{parentName:"h4"},"script.plugins")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"[]"))),(0,i.kt)("p",null,"Configure the swc plugin array, each item of the array contains three fields:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"name"),": the package name of the swc plugin"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"options"),": Configuration items passed to swc plugin"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"filters"),": Which modules to execute the plug-in, must be configured, support ",(0,i.kt)("inlineCode",{parentName:"li"},"resolvedPaths")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"moduleTypes")," these two filter items, if both are specified at the same time, take the union.")),(0,i.kt)("p",null,"An example of a configuration that supports JSX for a Vue project is as follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import jsPluginVue from '@farmfe/js-plugin-vue';\n\n/**\n  * @type {import('@farmfe/core').UserConfig}\n  */\nexport default {\n   compilation: {\n     script: {\n       plugins: [{\n         name: 'swc-plugin-vue-jsx',\n         options: {\n           \"transformOn\": true,\n           \"optimize\": true\n         },\n         filters: {\n           // resolvedPaths: [\".+\"]\n           moduleTypes: ['tsx', 'jsx'],\n         }\n       }]\n     }\n   },\n   plugins: [jsPluginVue()],\n};\n")),(0,i.kt)("h4",{id:"scriptdecorators"},(0,i.kt)("inlineCode",{parentName:"h4"},"script.decorators")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"export interface DecoratorsConfig {\n  legacyDecorator: boolean;\n  decoratorMetadata: boolean;\n  /**\n   * The version of the decorator proposal to use. 2021-12 or 2022-03\n   * @default 2021-12\n   */\n  decoratorVersion: '2021-12' | '2022-03' | null;\n  /**\n   * @default []\n   */\n  includes: string[];\n  /**\n   * @default [\"node_modules/\"]\n   */\n  excludes: string[];\n}\n")),(0,i.kt)("p",null,"It's recommended to use default decorators configuration of Farm, unless you want to improve performance, you can set ",(0,i.kt)("inlineCode",{parentName:"p"},"includes")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"excludes"),"."),(0,i.kt)("p",null,"Options:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"legacyDecorator"),": default to ",(0,i.kt)("inlineCode",{parentName:"li"},"true"),". Using legacy decorator proposal."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"decoratorMetadata"),": default to ",(0,i.kt)("inlineCode",{parentName:"li"},"false"),". You have to set ",(0,i.kt)("inlineCode",{parentName:"li"},"legacyDecorator")," to ",(0,i.kt)("inlineCode",{parentName:"li"},"false")," if you want to set it to true."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"decoratorVersion"),": default to '2021-12', proposal version. The value is 2021-12 or 2022-03."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"includes"),": default to ",(0,i.kt)("inlineCode",{parentName:"li"},"[]"),". If you want to include modules that are excluded, you can set this option. Regex supported."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"excludes"),": default to ",(0,i.kt)("inlineCode",{parentName:"li"},"['node_modules/']"),". Modules under these paths are ignored when transform decorators. Regex supported")),(0,i.kt)("h3",{id:"css"},"css"),(0,i.kt)("h4",{id:"cssmodules"},(0,i.kt)("inlineCode",{parentName:"h4"},"css.modules")),(0,i.kt)("p",null,"Configure Farm CSS Modules."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"interface FarmCssModulesConfig {\n   // Configure which paths will be processed as css modules, using regular strings\n   // defaults to `.module.css` or `.module.scss` or `.module.less`\n   paths?: string[];\n   // configure the generated css class name, the default is `[name]-[hash]`\n   indentName?: string;\n}\n")),(0,i.kt)("h5",{id:"cssmodulespaths"},(0,i.kt)("inlineCode",{parentName:"h5"},"css.modules.paths")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},'["\\\\.module\\\\.(css|scss|sass|less)"]'))),(0,i.kt)("p",null,"Configure which paths correspond to modules that will be treated as CSS Modules. A regular string needs to be configured. Defaults to files ending in ",(0,i.kt)("inlineCode",{parentName:"p"},".module.(css|scss|sass|less)"),"."),(0,i.kt)("h5",{id:"cssmodulesidentname"},(0,i.kt)("inlineCode",{parentName:"h5"},"css.modules.identName")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"[name]-[hash]"))),(0,i.kt)("p",null,"Configure the generated CSS Modules class name, the default is ",(0,i.kt)("inlineCode",{parentName:"p"},"[name]-[hash]"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"[name]"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"[hash]")," are placeholders (also all currently supported placeholders). ",(0,i.kt)("inlineCode",{parentName:"p"},"[name]")," means the original class name, ",(0,i.kt)("inlineCode",{parentName:"p"},"[hash]")," means the hash of the modified css file id."),(0,i.kt)("h4",{id:"cssprefixer"},(0,i.kt)("inlineCode",{parentName:"h4"},"css.prefixer")),(0,i.kt)("p",null,"Configure CSS compatibility prefixes, such as ",(0,i.kt)("inlineCode",{parentName:"p"},"-webkit-"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"interface FarmCssPrefixer {\n    targets?: string[] | string | BrowserTargetsRecord;\n}\n\ntype BrowserTargetsRecord = Partial<\n   Record<\n     | 'chrome'\n     | 'opera'\n     | 'edge'\n     | 'firefox'\n     | 'safari'\n     | 'ie'\n     | 'ios'\n     | 'android'\n     | 'node'\n     | 'electron',\n     string\n   >\n> & { [key: string]: string };\n")),(0,i.kt)("h5",{id:"cssprefixertargets"},(0,i.kt)("inlineCode",{parentName:"h5"},"css.prefixer.targets")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Default value"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"undefined"))),(0,i.kt)("p",null,"Configure which target browsers or browser versions to enable, for example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import type { UserConfig } from '@farmfe/core';\n\nfunction defineConfig(config: UserConfig) {\n   return config;\n}\n\nexport default defineConfig({\n   compilation: {\n     css: {\n       prefix: {\n         targets: ['last 2 versions', 'Firefox ESR', '> 1%', 'ie >= 11']\n       }\n     },\n   },\n});\n")),(0,i.kt)("h3",{id:"html"},"html"),(0,i.kt)("h4",{id:"htmlbase"},(0,i.kt)("inlineCode",{parentName:"h4"},"html.base")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Default value"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"undefined"))),(0,i.kt)("p",null,"All HTML entries will inherit ",(0,i.kt)("inlineCode",{parentName:"p"},"html.base"),", for details, refer to ",(0,i.kt)("a",{parentName:"p",href:"/docs/features/html"},"Guide - HTML")),(0,i.kt)("h3",{id:"sourcemap"},"sourcemap"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"true"))),(0,i.kt)("p",null,"Configure whether to enable sourcemap, optional configuration items and descriptions are as follows:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"true")),": Only generate sourcemap for files not under ",(0,i.kt)("inlineCode",{parentName:"li"},"node_modules"),", and generate a separate sourcemap file"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"false")),": turn off sourcemap"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"inline")),": Only generate sourcemap for files not under ",(0,i.kt)("inlineCode",{parentName:"li"},"node_modules"),", and inline sourcemap into the product, do not generate a separate file"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"all")),": generate sourcemap for all files, and generate a separate sourcemap file"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"all-inline")),": Generate sourcemaps for all files, and inline sourcemaps into the product, do not generate separate files")),(0,i.kt)("h3",{id:"partialbundling"},"partialBundling"),(0,i.kt)("p",null,"Configure the behavior of Farm's partial bundling. For details, please refer to ",(0,i.kt)("a",{parentName:"p",href:"/docs/features/partial-bundling"},"Partial Bundling")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"export interface FarmPartialBundlingConfig {\n  targetConcurrentRequests?: number;\n  targetMinSize?: number;\n  targetMaxSize?: number;\n  groups?: {\n    name: string;\n    test: string[];\n    groupType?: 'mutable' | 'immutable',\n    resourceType?: 'all' | 'initial' | 'async'\n  }[];\n  enforceResources?: {\n    name: string;\n    test: string[];\n  }[];\n  enforceTargetConcurrentRequests?: boolean;\n  enforceTargetMinSize?: boolean;\n  immutableModules?: string[];\n};\n")),(0,i.kt)("h4",{id:"partialbundlingtargetconcurrentrequests"},(0,i.kt)("inlineCode",{parentName:"h4"},"partialBundling.targetConcurrentRequests")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"25"))),(0,i.kt)("p",null,"Farm tries to generate resource numbers as closer as possible to this config value for initial resource loading or a dynamic resource loading."),(0,i.kt)("h4",{id:"partialbundlingtargetminsize"},(0,i.kt)("inlineCode",{parentName:"h4"},"partialBundling.targetMinSize")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"20 * 1024")," bytes, 20 KB")),(0,i.kt)("p",null,"The minimum size of each generated resources ",(0,i.kt)("strong",{parentName:"p"},"before minify and gzip"),". Note that ",(0,i.kt)("inlineCode",{parentName:"p"},"targetMinSize")," will not be satisfied if ",(0,i.kt)("inlineCode",{parentName:"p"},"ModuleBucket's size")," is less than ",(0,i.kt)("inlineCode",{parentName:"p"},"targetMinSize"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"ModuleBucket")," will be given priority. Config ",(0,i.kt)("inlineCode",{parentName:"p"},"enforceTargetMinSize")," can be used to enforce size."),(0,i.kt)("h4",{id:"partialbundlingtargetmaxsize"},(0,i.kt)("inlineCode",{parentName:"h4"},"partialBundling.targetMaxSize")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"1500 * 1024")," bytes, 1500 KB")),(0,i.kt)("p",null,"The maximum size of generated resources before minify and gzip."),(0,i.kt)("h4",{id:"partialbundlinggroups"},(0,i.kt)("inlineCode",{parentName:"h4"},"partialBundling.groups")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"[]"))),(0,i.kt)("p",null,"A group of modules that should be placed together. Note that this group config is only a hit to the compiler that these modules should be placed together, it may produce multiple resources, if you want to enforce modules in the same resource, you should use ",(0,i.kt)("inlineCode",{parentName:"p"},"enforceResources"),"."),(0,i.kt)("p",null,"Options for each item:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"name"),": Name of this group."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"test"),": Regex array to match the modules which are in this group."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"groupType"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"mutable")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"immutable"),", this group only applies to the specified type of modules."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"resourceType"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"all"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"initial")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"async"),", this group only applies to the specified type of resources.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="farm.config.ts" {4-9}',title:'"farm.config.ts"',"{4-9}":!0},"export default defineConfig({\n  compilation: {\n    partialBundling: {\n      groups: [\n        {\n          name: 'vendor-react',\n          test: ['node_modules/'],\n        }\n      ]\n    },\n  },\n});\n")),(0,i.kt)("h4",{id:"partialbundlingenforceresources"},(0,i.kt)("inlineCode",{parentName:"h4"},"partialBundling.enforceResources")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"[]"))),(0,i.kt)("p",null,"Array to match the modules that should always be in the same output resource, ignore all other constraints."),(0,i.kt)("p",null,"Options for each item:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"name"),": Name of this resource."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"test"),": Regex array to match the modules which are in this resource.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="farm.config.ts" {4-9}',title:'"farm.config.ts"',"{4-9}":!0},"export default defineConfig({\n  compilation: {\n    partialBundling: {\n      enforceResources: [\n        {\n          name: 'index',\n          test: ['.+'],\n        }\n      ]\n    },\n  },\n});\n")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"enforceResources")," will ignore all Farm's internal optimization, be careful when you use it.")),(0,i.kt)("h4",{id:"partialbundlingenforcetargetconcurrentrequests"},(0,i.kt)("inlineCode",{parentName:"h4"},"partialBundling.enforceTargetConcurrentRequests")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"false"))),(0,i.kt)("p",null,"Enforce target concurrent requests for every resource loading, when true, smaller resource will be merged into bigger resource to meet the target concurrent requests. this may cause issue for css resource, be careful to use this option."),(0,i.kt)("h4",{id:"partialbundlingenforcetargetminsize"},(0,i.kt)("inlineCode",{parentName:"h4"},"partialBundling.enforceTargetMinSize")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"false"))),(0,i.kt)("p",null,"Enforce target min size for every resource, when tue, smaller resource will be merged into bigger resource to meet the target concurrent requests. this may cause issue for css resource, be careful to use this option"),(0,i.kt)("h4",{id:"partialbundlingimmutablemodules"},(0,i.kt)("inlineCode",{parentName:"h4"},"partialBundling.immutableModules")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"['node_modules']"))),(0,i.kt)("p",null,"Regex array to match the immutable modules."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="farm.config.ts"',title:'"farm.config.ts"'},"export default defineConfig({\n  compilation: {\n    partialBundling: {\n      immutableModules: ['node_modules/', '/global-constants']\n    },\n  },\n});\n")),(0,i.kt)("p",null,"Immutable module can affect bundling and incoming persistent cache, be careful if you want to change it."),(0,i.kt)("h4",{id:"partialbundlingimmutablemodulesweight"},(0,i.kt)("inlineCode",{parentName:"h4"},"partialBundling.immutableModulesWeight")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"0.8"))),(0,i.kt)("p",null,"\u9ed8\u8ba4\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"0.8"),"\uff0c\u4e0d\u53ef\u53d8\u6a21\u5757\u5c06\u62e5\u670980%\u7684\u8bf7\u6c42\u6570\u3002 \u4f8b\u5982\uff0c\u5982\u679c",(0,i.kt)("inlineCode",{parentName:"p"},"targetConcurrentRequest"),"\u4e3a 25\uff0c\u5219\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e0d\u53ef\u53d8\u8d44\u6e90\u5c06\u91c7\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"25 * 80% = 20"),"\u3002 \u8be5\u9009\u9879\u662f\u4e3a\u4e86\u786e\u4fdd\u53ef\u53d8\u6a21\u5757\u548c\u4e0d\u53ef\u53d8\u6a21\u5757\u662f\u9694\u79bb\u7684\uff0c\u5982\u679c\u66f4\u6539\u60a8\u7684\u4e1a\u52a1\u4ee3\u7801\uff0cnode_modules\u4e0b\u7684\u4ee3\u7801\u4e0d\u4f1a\u53d7\u5230\u5f71\u54cd\u3002"),(0,i.kt)("h3",{id:"lazycompilation"},"lazyCompilation"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"true")," in development mode, ",(0,i.kt)("inlineCode",{parentName:"li"},"false")," in build mode")),(0,i.kt)("p",null,"Whether to enable lazy compilation, configure to false to close. See ",(0,i.kt)("a",{parentName:"p",href:"/docs/features/lazy-compilation"},"lazy compilation"),"."),(0,i.kt)("h3",{id:"treeshaking"},"treeShaking"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"false")," in development mode, ",(0,i.kt)("inlineCode",{parentName:"li"},"true")," in build mode")),(0,i.kt)("p",null,"Whether to enable tree shake, set to false to close. See ",(0,i.kt)("a",{parentName:"p",href:"/docs/features/tree-shake"},"Tree Shake"),"."),(0,i.kt)("h3",{id:"minify"},"minify"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"false")," in development mode, ",(0,i.kt)("inlineCode",{parentName:"li"},"true")," in build mode")),(0,i.kt)("p",null,"Whether to enable compression, the product will be compressed and confused after it is turned on. See ",(0,i.kt)("a",{parentName:"p",href:"/docs/features/tree-shake"},"Compression"),"."),(0,i.kt)("h3",{id:"presetenv"},"presetEnv"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"false")," in development mode, ",(0,i.kt)("inlineCode",{parentName:"li"},"true")," in build mode")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"type FarmPresetEnvConfig = boolean | {\n   include?: string[];\n   exclude?: string[];\n   // TODO using swc's config\n   options?: any;\n   assumptions?: any;\n};\n")),(0,i.kt)("p",null,"By default, polyfills will not be injected into modules under node_modules, if necessary, please use ",(0,i.kt)("inlineCode",{parentName:"p"},"include")," to add polyfills."),(0,i.kt)("h4",{id:"presetenvinclude"},(0,i.kt)("inlineCode",{parentName:"h4"},"presetEnv.include")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"[]"))),(0,i.kt)("p",null,"Include additional modules that require polyfill, configure regular strings, for example ",(0,i.kt)("inlineCode",{parentName:"p"},"include: ['node_modules/(es6-package|my-package)/']")),(0,i.kt)("h4",{id:"presetenv-exclude"},(0,i.kt)("inlineCode",{parentName:"h4"},"presetEnv. exclude")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"['node_modules/']"))),(0,i.kt)("p",null,"Configure modules that do not require polyfill, and configure regular strings, such as ",(0,i.kt)("inlineCode",{parentName:"p"},"exclude: ['custom-path/(es5-package|my-package)/']"),". By default node_modules is excluded, if you need to include excluded modules, it is recommended to use ",(0,i.kt)("inlineCode",{parentName:"p"},"include")),(0,i.kt)("h4",{id:"presetenvoptions"},(0,i.kt)("inlineCode",{parentName:"h4"},"presetEnv.options")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"downgrade to ES5"))),(0,i.kt)("p",null,"Options passed to swc preset env, see ",(0,i.kt)("a",{parentName:"p",href:"https://swc.rs/docs/configuration/compilation#env"},"https://swc.rs/docs/configuration/compilation#env"),"."),(0,i.kt)("h3",{id:"persistentcache"},"persistentCache"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"true"))),(0,i.kt)("p",null,"Options for ",(0,i.kt)("a",{parentName:"p",href:"/docs/features/persistent-cache"},"Persistent Cache"),". Configuring it ",(0,i.kt)("inlineCode",{parentName:"p"},"false")," to disable cache."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"export type PersistentCache = boolean | {\n  namespace?: string;\n  cacheDir?: string;\n  buildDependencies?: string[];\n  moduleCacheKeyStrategy?: {\n    timestamp?: boolean,\n    hash?: boolean,\n  }\n};\n")),(0,i.kt)("h4",{id:"persistentcachenamespace"},(0,i.kt)("inlineCode",{parentName:"h4"},"persistentCache.namespace")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"farm-cache"))),(0,i.kt)("p",null,"Namespace for the cache, caches under different namespace will be isolated."),(0,i.kt)("h4",{id:"persistentcachecachedir"},(0,i.kt)("inlineCode",{parentName:"h4"},"persistentCache.cacheDir")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"node_modules/.farm/cache"))),(0,i.kt)("p",null,"Cache store directory."),(0,i.kt)("h4",{id:"persistentcachebuilddependencies"},(0,i.kt)("inlineCode",{parentName:"h4"},"persistentCache.buildDependencies")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"farm.config.ts and all its deep dependencies"))),(0,i.kt)("p",null,"File path or package name that may affect the compilation, for example, plugins. By default, ",(0,i.kt)("inlineCode",{parentName:"p"},"farm.config.ts/js/mjs")," and all of its deep dependencies will be treated as build dependencies, if any of these files changed, all cache will be invalidated."),(0,i.kt)("p",null,"it can be a file path or a package name, for example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import { defineConfig } from '@farmfe/core';\nimport path from 'node:path';\n\nexport default defineConfig({\n  persistentCache: {\n    buildDependencies: [\n      // a file path\n      path.resolve(process.cwd(), './plugins/my-plugin.js'),\n      // a package name, note that this package must expose package.json\n      'farm-plugin-custom-xxx'\n    ]\n  }\n})\n")),(0,i.kt)("h4",{id:"persistentcachemodulecachekeystrategy"},(0,i.kt)("inlineCode",{parentName:"h4"},"persistentCache.moduleCacheKeyStrategy")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"{ timestamp: true, hash: true }"))),(0,i.kt)("p",null,"How to generate cache key when trying to reuse cache. if ",(0,i.kt)("inlineCode",{parentName:"p"},"timestamp")," is true and the timestamp of the module is not changed, then all build stage hooks like ",(0,i.kt)("inlineCode",{parentName:"p"},"load"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"transform")," will be skipped and the cached module will be reused. if ",(0,i.kt)("inlineCode",{parentName:"p"},"hash")," is true and the content of the module is not changed, ",(0,i.kt)("inlineCode",{parentName:"p"},"load")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"transform")," hook will be called to get the transformed content, other hooks will be skipped and the cached module will be reused."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"timestamp"),": whether check timestamp of the module, which has the best performance"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"hash"),": whether check content hash after load and transform")),(0,i.kt)("h4",{id:"persistentcacheenvs"},(0,i.kt)("inlineCode",{parentName:"h4"},"persistentCache.envs")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("a",{parentName:"li",href:"https://farm-fe.github.io/docs/config/farm-config#environment-variable"},"Farm Env"))),(0,i.kt)("p",null,"Envs used to invalidate cache, if the configured env changed, then all cache will be invalidated."),(0,i.kt)("h2",{id:"devserver-options---server"},"DevServer Options - server"),(0,i.kt)("p",null,"Configure the behavior of Farm Dev Server. Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import type { UserConfig } from '@farmfe/core';\n\nfunction defineConfig(config: UserConfig) {\n   return config;\n}\n\nexport default defineConfig({\n   // All dev server options are under server\n   server: {\n     port: 9000,\n     //...\n   }\n});\n")),(0,i.kt)("p",null,"type:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"export interface UserServerConfig {\n   port?: number;\n   // https?: boolean;\n   protocol?: 'http' | 'https';\n   hostname?: string;\n   // http2?: boolean;\n   hmr?: boolean | UserHmrConfig;\n   proxy?: Record<string, ProxiesOptions>;\n   strictPort?: boolean;\n   open?: boolean;\n   host?: string;\n   cors?: boolean | cors. Options;\n   //whether to serve static assets in spa mode, default to true\n   spa?: boolean;\n   plugins?: DevServerPlugin[];\n   writeToDisk?: boolean;\n}\n")),(0,i.kt)("h3",{id:"port"},"port"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"9000"))),(0,i.kt)("p",null,"The port the DevServer listens on."),(0,i.kt)("h3",{id:"hmr"},"hmr"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"true")," for start command, false for other commands")),(0,i.kt)("p",null,"Enable HMR. After enabling the HMR capability, it will monitor the changes of the modules involved in the compilation process. When the modules change, it will automatically trigger recompilation and push the results to Farm Runtime for update. HMR can also be configured through an object, for example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import type { UserConfig } from '@farmfe/core';\n\nfunction defineConfig(config: UserConfig) {\n   return config;\n}\n\nexport default defineConfig({\n   // All dev server options are under server\n   server: {\n     hmr: {\n       // Configure the port for web socket listening\n       port: 9802\n       // Configure the host for web socket listening\n       host: 'localhost',\n       // Files to ignore when configuring file monitoring\n       ignores: ['auto_generated/*']\n     }\n     //...\n   }\n});\n")),(0,i.kt)("h4",{id:"hmrport"},(0,i.kt)("inlineCode",{parentName:"h4"},"hmr.port")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"9801"))),(0,i.kt)("p",null,"The port the Web Socket server listens on"),(0,i.kt)("h4",{id:"hmrhost"},(0,i.kt)("inlineCode",{parentName:"h4"},"hmr.host")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"localhost"))),(0,i.kt)("p",null,"Host on which the Web Socket server listens"),(0,i.kt)("h3",{id:"proxy"},"proxy"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Default value"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"undefined"))),(0,i.kt)("p",null,"Configure server proxy. Based on ",(0,i.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/koa-proxies"},"koa-proxies")," implementation, specific options refer to its documentation, example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import type { UserConfig } from '@farmfe/core';\n\nfunction defineConfig(config: UserConfig) {\n   return config;\n}\n\nexport default defineConfig({\n    server: {\n     proxy: {\n       '/api': {\n         target: 'https://music-erkelost.vercel.app/banner',\n         changeOrigin: true,\n         rewrite: (path: any) => path.replace(/^\\/api/, ''),\n       },\n     },\n   },\n});\n\n")),(0,i.kt)("h3",{id:"open"},"open"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"false"))),(0,i.kt)("p",null,"After the compilation is completed, the browser is automatically opened to the corresponding page."),(0,i.kt)("p",null,"###host"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"localhost"))),(0,i.kt)("p",null,"The host that the Dev Server listens on."),(0,i.kt)("h3",{id:"plugins"},"plugins"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"[]"))),(0,i.kt)("p",null,"Configure the Dev Server plug-in of Farm, through the Dev Server plug-in, you can extend the context of DevServer, add middleware, etc. A plugin is a function. Examples of plugins are as follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"export function hmrPlugin(devServer: DevServer) {\n   const { config, logger } = devServer;\n   if (config. hmr) {\n     devServer.ws = new WebSocketServer({\n       port: config.hmr.port,\n       host: config.hmr.host\n     });\n     devServer.app().use(hmr(devServer));\n     devServer.hmrEngine = new HmrEngine(devServer.getCompiler(), devServer, logger);\n   }\n}\n")),(0,i.kt)("p",null,"Then configure the plugin into ",(0,i.kt)("inlineCode",{parentName:"p"},"server.plugins"),"."),(0,i.kt)("h2",{id:"environment-variable"},"Environment variable"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Farm")," distinguishes between development and production environments through ",(0,i.kt)("inlineCode",{parentName:"p"},"Farm")," process.env.NODE_ ENV`."),(0,i.kt)("p",null,"In different environments, environment variables are replaced statically, so use static constants to represent environment variables instead of dynamic expressions."),(0,i.kt)("h3",{id:"env-file"},(0,i.kt)("inlineCode",{parentName:"h3"},".env")," file"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Farm")," uses ",(0,i.kt)("inlineCode",{parentName:"p"},"dotenv")," to load your additional environment variables, such as ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," files."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// .env\nFARM_APP_SECRET=secret\nFarm_APP_PASSWORD=password\nAPP_VERSION=1.0.0\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Farm")," loads the file ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," via dotenv, and loads it into ",(0,i.kt)("inlineCode",{parentName:"p"},"process.env")," and finally injects it into define."),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"In order to ensure the security of the client, preventing the environment variables in the current system from being exposed to the client ",(0,i.kt)("inlineCode",{parentName:"p"},"Farm")," will only identify some important environment variables that start with ",(0,i.kt)("inlineCode",{parentName:"p"},"Farm"),".")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Farm")," expands environment variables through dotenv-expand"),(0,i.kt)("p",null,"If you want to customize the prefix of env variables, you can configure ",(0,i.kt)("inlineCode",{parentName:"p"},"envPrefix"),"."),(0,i.kt)("h3",{id:"envprefix"},"envPrefix"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default value"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"FARM_"))),(0,i.kt)("p",null,"Customize the prefix of the ",(0,i.kt)("inlineCode",{parentName:"p"},"env")," variable by configuring ",(0,i.kt)("inlineCode",{parentName:"p"},"envPrefix"),"."),(0,i.kt)("h2",{id:"plugins-options"},"Plugins Options"),(0,i.kt)("p",null,"Configure Farm's plug-ins, support Rust plug-ins or Js plug-ins, examples are as follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import type { UserConfig } from '@farmfe/core';\nimport less from '@farmfe/js-plugin-less';\n\nfunction defineConfig(config: UserConfig) {\n   return config;\n}\n\nexport default defineConfig({\n   plugins: ['@farmfe/plugin-react', '@farmfe/plugin-sass', less()],\n});\n")),(0,i.kt)("h3",{id:"rust-plugins"},"Rust Plugins"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"[]"))),(0,i.kt)("p",null,"Rust plugins are configured via ",(0,i.kt)("inlineCode",{parentName:"p"},"plugin name")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"[plugin name, configuration option]"),", as follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"import type { UserConfig } from '@farmfe/core';\n\nfunction defineConfig(config: UserConfig) {\n   return config;\n}\n\nexport default defineConfig({\n   plugins: [['@farmfe/plugin-react', { /* options here */}], '@farmfe/plugin-sass'],\n});\n")),(0,i.kt)("h3",{id:"js-plugins"},"Js Plugins"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"default"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"[]"))),(0,i.kt)("p",null,"Js plugin is an object, for details, please refer to ",(0,i.kt)("a",{parentName:"p",href:"/docs/plugins/js-plugin"},"Js plugin")))}m.isMDXComponent=!0}}]);