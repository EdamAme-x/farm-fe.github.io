"use strict";(self.webpackChunkfarm_docs=self.webpackChunkfarm_docs||[]).push([[9498],{9613:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var i=n(9496);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,i,l=function(e,t){if(null==e)return{};var n,i,l={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),d=p(n),m=l,f=d["".concat(s,".").concat(m)]||d[m]||c[m]||r;return n?i.createElement(f,o(o({ref:t},u),{},{components:n})):i.createElement(f,o({ref:t},u))}));function f(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,o=new Array(r);o[0]=m;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a[d]="string"==typeof e?e:l,o[1]=a;for(var p=2;p<r;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6295:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>a,toc:()=>p});var i=n(1163),l=(n(9496),n(9613));const r={},o="Config Reference",a={unversionedId:"config/farm-config",id:"config/farm-config",title:"Config Reference",description:"Farm loads config from farm.config.ts|js|mjs file under the project root. Example:",source:"@site/docs/config/farm-config.md",sourceDirName:"config",slug:"/config/farm-config",permalink:"/docs/config/farm-config",draft:!1,editUrl:"https://github.com/farm-fe/farm-fe.github.io/docs/config/farm-config.md",tags:[],version:"current",frontMatter:{},sidebar:"configSidebar",next:{title:"CLI Options",permalink:"/docs/config/cli"}},s={},p=[{value:"Compilation Options",id:"compilation-options",level:2},{value:"input",id:"input",level:3},{value:"output",id:"output",level:3},{value:"<code>output.filename</code>",id:"outputfilename",level:4},{value:"<code>output.path</code>",id:"outputpath",level:4},{value:"<code>output.publicPath</code>",id:"outputpublicpath",level:4},{value:"<code>output.assetsFileName</code>",id:"outputassetsfilename",level:4},{value:"<code>output.targetEnv</code>",id:"outputtargetenv",level:4},{value:"resolve",id:"resolve",level:3},{value:"<code>resolve.extensions</code>",id:"resolveextensions",level:4},{value:"<code>resolve.alias</code>",id:"resolvealias",level:4},{value:"<code>resolve.mainFields</code>",id:"resolvemainfields",level:4},{value:"<code>resolve.conditions</code>",id:"resolveconditions",level:4},{value:"<code>resolve.symlinks</code>",id:"resolvesymlinks",level:4},{value:"<code>resolve.strictExports</code>",id:"resolvestrictexports",level:4},{value:"define",id:"define",level:3},{value:"external",id:"external",level:3},{value:"mode",id:"mode",level:3},{value:"root",id:"root",level:3},{value:"runtime",id:"runtime",level:3},{value:"assets",id:"assets",level:3},{value:"script",id:"script",level:3},{value:"css",id:"css",level:3},{value:"sourcemap",id:"sourcemap",level:3},{value:"partialBundling",id:"partialbundling",level:3},{value:"lazyCompilation",id:"lazycompilation",level:3},{value:"treeShaking",id:"treeshaking",level:3},{value:"minify",id:"minify",level:3},{value:"presetEnv",id:"presetenv",level:3},{value:"Server Options",id:"server-options",level:2},{value:"port",id:"port",level:3},{value:"https(WIP)",id:"httpswip",level:3},{value:"hmr",id:"hmr",level:3},{value:"proxy",id:"proxy",level:3},{value:"strictPort",id:"strictport",level:3},{value:"open",id:"open",level:3},{value:"host",id:"host",level:3},{value:"Plugins Options",id:"plugins-options",level:2},{value:"Rust Plugins",id:"rust-plugins",level:3},{value:"Js Plugins",id:"js-plugins",level:3}],u={toc:p},d="wrapper";function c(e){let{components:t,...n}=e;return(0,l.kt)(d,(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"config-reference"},"Config Reference"),(0,l.kt)("p",null,"Farm loads config from ",(0,l.kt)("inlineCode",{parentName:"p"},"farm.config.ts|js|mjs")," file under the project root. Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="farm.config.ts"',title:'"farm.config.ts"'},"import type { UserConfig } from '@farmfe/core';\n\nexport default <UserConfig>{\n  root: process.cwd(), // config project root\n  // Options related compilation\n  compilation: {\n    // ...\n  },\n  // Options related to dev server\n  server: {\n    hmr: true,\n    // ...\n  },\n  // Additional plugins\n  plugins: []\n};\n")),(0,l.kt)("h2",{id:"compilation-options"},"Compilation Options"),(0,l.kt)("h3",{id:"input"},"input"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"Record<string, string>"))),(0,l.kt)("p",null,"The entry points of your projects. The input can files can be ",(0,l.kt)("inlineCode",{parentName:"p"},"html"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"ts/js/tsx/jsx"),", or other files that support by plugins."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-tsx"},"import type { UserConfig } from '@farmfe/core';\n\nexport default <UserConfig> {\n  compilation: {\n    input: {\n      index: './index.html',\n      about: './about.html'\n    },\n  }\n  // ..\n}\n")),(0,l.kt)("h3",{id:"output"},"output"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"OutputOptions"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"interface OutputOptions {\n  // filename of the compiled result\n  filename?: string;\n  // output dir path\n  path?: string;\n  // public path to load resources\n  publicPath?: string;\n  // same like filename but for static assets\n  assetsFilename?: string;\n  // target execution env of the compiled result\n  targetEnv?: 'browser' | 'node';\n}\n")),(0,l.kt)("p",null,"Configuring the emit of the compilation result - we call the result resources."),(0,l.kt)("h4",{id:"outputfilename"},(0,l.kt)("inlineCode",{parentName:"h4"},"output.filename")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"defaultValue"),": ",(0,l.kt)("inlineCode",{parentName:"li"},'"[resourceName].[ext]"'))),(0,l.kt)("p",null,"Filename of the generated files. You can use placeholders like ",(0,l.kt)("inlineCode",{parentName:"p"},"[resourceName]"),". All placeholders:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"[resourceName]"),": The name of this file, the value is a normalized relative path for entry resource, or a hash string for other auto split resources."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"[contentHash]"),": The content hash of this resource."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"[ext]"),": internal extension of this resource.")),(0,l.kt)("h4",{id:"outputpath"},(0,l.kt)("inlineCode",{parentName:"h4"},"output.path")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"defaultValue"),": ",(0,l.kt)("inlineCode",{parentName:"li"},'"dist"'))),(0,l.kt)("p",null,"Output dir path for generated resource."),(0,l.kt)("h4",{id:"outputpublicpath"},(0,l.kt)("inlineCode",{parentName:"h4"},"output.publicPath")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"defaultValue"),": ",(0,l.kt)("inlineCode",{parentName:"li"},'"/"'))),(0,l.kt)("p",null,"The base url to load resources. Can be a url like ",(0,l.kt)("inlineCode",{parentName:"p"},"https://xxxx")," or a path like ",(0,l.kt)("inlineCode",{parentName:"p"},"/xxx"),"."),(0,l.kt)("h4",{id:"outputassetsfilename"},(0,l.kt)("inlineCode",{parentName:"h4"},"output.assetsFileName")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"defaultValue"),": ",(0,l.kt)("inlineCode",{parentName:"li"},'"[resourceName].[ext]"'))),(0,l.kt)("p",null,"Same format like ",(0,l.kt)("inlineCode",{parentName:"p"},"output.filename"),". but used to configuring static assets."),(0,l.kt)("h4",{id:"outputtargetenv"},(0,l.kt)("inlineCode",{parentName:"h4"},"output.targetEnv")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"defaultValue"),": ",(0,l.kt)("inlineCode",{parentName:"li"},'"browser"'))),(0,l.kt)("p",null,"Target execution environment of the compiled resources, ",(0,l.kt)("inlineCode",{parentName:"p"},'"browser"')," or ",(0,l.kt)("inlineCode",{parentName:"p"},'"node"'),"."),(0,l.kt)("h3",{id:"resolve"},"resolve"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"type"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"ResolveOptions"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"interface ResolveOptions {\n  extensions?: string[];\n  alias?: Record<string, string>;\n  mainFields?: string[];\n  conditions?: string[];\n  symlinks?: boolean;\n  strictExports?: boolean;\n};\n")),(0,l.kt)("h4",{id:"resolveextensions"},(0,l.kt)("inlineCode",{parentName:"h4"},"resolve.extensions")),(0,l.kt)("h4",{id:"resolvealias"},(0,l.kt)("inlineCode",{parentName:"h4"},"resolve.alias")),(0,l.kt)("h4",{id:"resolvemainfields"},(0,l.kt)("inlineCode",{parentName:"h4"},"resolve.mainFields")),(0,l.kt)("h4",{id:"resolveconditions"},(0,l.kt)("inlineCode",{parentName:"h4"},"resolve.conditions")),(0,l.kt)("h4",{id:"resolvesymlinks"},(0,l.kt)("inlineCode",{parentName:"h4"},"resolve.symlinks")),(0,l.kt)("h4",{id:"resolvestrictexports"},(0,l.kt)("inlineCode",{parentName:"h4"},"resolve.strictExports")),(0,l.kt)("h3",{id:"define"},"define"),(0,l.kt)("h3",{id:"external"},"external"),(0,l.kt)("h3",{id:"mode"},"mode"),(0,l.kt)("h3",{id:"root"},"root"),(0,l.kt)("h3",{id:"runtime"},"runtime"),(0,l.kt)("h3",{id:"assets"},"assets"),(0,l.kt)("h3",{id:"script"},"script"),(0,l.kt)("h3",{id:"css"},"css"),(0,l.kt)("h3",{id:"sourcemap"},"sourcemap"),(0,l.kt)("h3",{id:"partialbundling"},"partialBundling"),(0,l.kt)("h3",{id:"lazycompilation"},"lazyCompilation"),(0,l.kt)("h3",{id:"treeshaking"},"treeShaking"),(0,l.kt)("h3",{id:"minify"},"minify"),(0,l.kt)("h3",{id:"presetenv"},"presetEnv"),(0,l.kt)("h2",{id:"server-options"},"Server Options"),(0,l.kt)("h3",{id:"port"},"port"),(0,l.kt)("h3",{id:"httpswip"},"https(WIP)"),(0,l.kt)("h3",{id:"hmr"},"hmr"),(0,l.kt)("h3",{id:"proxy"},"proxy"),(0,l.kt)("h3",{id:"strictport"},"strictPort"),(0,l.kt)("h3",{id:"open"},"open"),(0,l.kt)("h3",{id:"host"},"host"),(0,l.kt)("h2",{id:"plugins-options"},"Plugins Options"),(0,l.kt)("h3",{id:"rust-plugins"},"Rust Plugins"),(0,l.kt)("h3",{id:"js-plugins"},"Js Plugins"))}c.isMDXComponent=!0}}]);